<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì¥ë°”êµ¬ë‹ˆ - ì†ŸëŒ€ê³µì‘ì†Œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Yeongwol&display=swap" rel="stylesheet" />
    
    <style>
      /* ë¡œì»¬ í°íŠ¸ ì •ì˜ */
        @font-face {
        font-family: 'Yeongwol';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2507-2@1.0/YeongwolTTF-Regular.woff2') format('woff2');
        font-weight: normal;
        font-display: swap;
      }
      @font-face {
        font-family: 'KBIZí•œë§ˆìŒëª…ì¡°';
        src: url('./KBIZí•œë§ˆìŒëª…ì¡° M.otf') format('opentype');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: 'happygoheung M';
        src: url('./í–‰ë³µê³ í¥M.ttf') format('truetype');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: 'gkswk';
        src: url('./gkswk.ttf') format('truetype');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
      }
      
      /* ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œ ìŠ¤íƒ€ì¼ */
      .cart-item {
        transition: all 0.3s ease;
        border: 1px solid #e5e7eb;
      }
      
      .cart-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        border-color: #d1d5db;
      }
      
      /* ìˆ˜ëŸ‰ ì¡°ì ˆ ë²„íŠ¼ */
      .quantity-btn {
        transition: all 0.2s ease;
        border: 1px solid #d1d5db;
      }
      
      .quantity-btn:hover {
        background: #f3f4f6;
        border-color: #9ca3af;
      }
      
      .quantity-btn:active {
        transform: scale(0.95);
      }
      
      /* ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
      .custom-checkbox {
        appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid #d1d5db;
        border-radius: 4px;
        background: white;
        cursor: pointer;
        position: relative;
        transition: all 0.2s ease;
      }
      
      .custom-checkbox:checked {
        background: #1f2937;
        border-color: #1f2937;
      }
      
      .custom-checkbox:checked::after {
        content: 'âœ“';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 12px;
        font-weight: bold;
      }
      
      /* ìƒí’ˆ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
      .product-image {
        background: #f3f4f6;
        position: relative;
        overflow: hidden;
      }
      
      /* êµ¬ë§¤ ë²„íŠ¼ */
      .purchase-btn {
        background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }
      
      .purchase-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(31, 41, 55, 0.3);
      }
      
      .purchase-btn:active {
        transform: translateY(0);
      }
      
      /* ë¹ˆ ì¥ë°”êµ¬ë‹ˆ ìƒíƒœ */
      .empty-cart {
        background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
        border: 2px dashed #d1d5db;
      }
      
      /* ì• ë‹ˆë©”ì´ì…˜ */
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.5s ease;
      }
      
      .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
      }
      
      /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ */
      .cart-items::-webkit-scrollbar {
        width: 6px;
      }
      
      .cart-items::-webkit-scrollbar-track {
        background: #f1f5f9;
        border-radius: 3px;
      }
      
      .cart-items::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
      }
      
      .cart-items::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      /* Overlay menu styles (sotdae-workshop.htmlê³¼ ë™ì¼) */
      .overlay { 
          position: fixed; 
          inset: 0; 
          width: 100vw; 
          height: 100vh; 
          background: rgba(10,18,36,0.94); 
          display: flex; 
          justify-content: center; 
          align-items: flex-start; 
          transition: opacity .4s ease; 
          z-index: 9999; 
          opacity: 0; 
          pointer-events: none; 
      }
      .overlay.hidden { 
          opacity: 0; 
          pointer-events: none; 
      }
      .overlay.show { 
          opacity: 1; 
          pointer-events: auto; 
      }
      .close-btn { 
          position: absolute; 
          top: 8px; 
          right: 40px; 
          font-size: 28px; 
          color: #fff; 
          background: none; 
          border: none; 
          cursor: pointer; 
          transition: transform .2s ease; 
      }
      @media (min-width: 768px) { 
          .close-btn { 
              right: 48px; 
              top: 8px; 
          } 
      }
      .close-btn:hover { 
          transform: rotate(90deg); 
      }
      .menu-nav { 
          display: flex; 
          flex-direction: column; 
          justify-content: center; 
          align-items: flex-start; 
          height: 100vh; 
          padding-left: 1.5vw; 
      }
      .menu-nav ul { 
          list-style: none; 
          padding: 0; 
          margin: 0; 
          text-align: left; 
      }
      .menu-nav li { 
          margin: 16px 0; 
      }
      .menu-nav a { 
          text-decoration: none; 
          font-family: 'happygoheung M', serif; 
          font-size: 28px; 
          font-weight: 600; 
          letter-spacing: 4px; 
          color: #f3f4f6; 
          transition: opacity .2s ease, letter-spacing .3s ease; 
          text-transform: uppercase; 
      }
      .menu-nav a:hover { 
          opacity: .9; 
          letter-spacing: 6px; 
      }
    </style>
  </head>

  <body class="m-0 p-0 bg-gray-50 min-h-screen">
    <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <header class="fixed top-0 inset-x-0 z-50 backdrop-blur-sm bg-gradient-to-b from-black/10 to-transparent" style="top: 0; margin-top: 0;">
      <div class="w-full px-6 md:px-8 py-4 flex items-center justify-between">
        <!-- ì¢Œì¸¡: W.S.P ë¡œê³  -->
        <div class="flex items-center gap-3">
          <h1 
            class="text-xl font-normal text-black cursor-pointer"
            style="font-family: 'Yeongwol', serif; color: #000000;"
            onclick="window.location.href='./home.html'"
          >
            <span style="font-family: 'gkswk', serif;">é¡˜</span><span style="font-family: 'happygoheung M', serif;">:ì†Ÿë‹¤</span>
          </h1>
        </div>
        <!-- ìš°ì¸¡: ë©”ë‰´ ë²„íŠ¼ -->
        <div class="relative menu-container">
          <button 
            id="menu-btn"
            class="inline-flex items-center justify-center text-black transition-transform duration-200"
            style="color: #000000;"
            onclick="toggleMenu()"
            aria-label="ë©”ë‰´ ì—´ê¸°"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" style="color: #000000;">
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>
    </header>
    
    <!-- ì˜¤ë²„ë ˆì´ ë©”ë‰´ -->
    <div id="overlay-menu" class="overlay hidden">
      <button 
        id="close-menu"
        class="close-btn"
        onclick="closeMenu()"
        aria-label="ë©”ë‰´ ë‹«ê¸°"
      >Ã—</button>
      <nav class="menu-nav">
        <ul>
          <li>
            <a href="./home.html#sotdae-map" onclick="closeMenu()">ì†ŸëŒ€ ì§€ë„</a>
          </li>
          <li>
            <a href="./sotdae-workshop.html" onclick="closeMenu()">ì†ŸëŒ€ê³µì‘ì†Œ</a>
          </li>
          <li>
            <a href="./calendar.html" onclick="closeMenu()">ë°”ëŒ ì¼ì§€</a>
          </li>
          <li>
            <a href="./profile.html" onclick="closeMenu()">ë‚˜ì˜ ì†ŸëŒ€</a>
          </li>
        </ul>
      </nav>
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="pt-20 bg-white">
      <!-- í˜ì´ì§€ íƒ€ì´í‹€ ì„¹ì…˜ -->
      <div class="py-12">
        <div class="max-w-6xl mx-auto px-6">
          <div class="flex items-center justify-between">
            <div>
              <h2 
                class="text-4xl sm:text-5xl font-light text-gray-800 mb-4"
                style="font-family: 'Yeongwol', serif;"
              >
                ì¥ë°”êµ¬ë‹ˆ
              </h2>
              <p class="text-lg text-gray-600">
                ì„ íƒí•œ ì†ŸëŒ€ë“¤ì„ í™•ì¸í•˜ê³  êµ¬ë§¤í•˜ì„¸ìš”
              </p>
            </div>
            <div class="hidden md:flex items-center gap-4">
              <button onclick="window.location.href='./sotdae-workshop.html'" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                ì‡¼í•‘ ê³„ì†í•˜ê¸°
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- ì¥ë°”êµ¬ë‹ˆ ì½˜í…ì¸  -->
      <div class="bg-gray-50 py-8">
        <div class="max-w-6xl mx-auto px-6">
          <div class="grid lg:grid-cols-3 gap-8">
            <!-- ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œë“¤ -->
            <div class="lg:col-span-2">
              <!-- ì„ íƒ ì˜µì…˜ -->
              <div class="bg-white rounded-lg p-4 mb-6 shadow-sm border border-gray-200">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-4">
                    <input type="checkbox" id="selectAll" class="custom-checkbox" checked>
                    <label for="selectAll" class="text-gray-700 font-medium cursor-pointer">ì „ì²´ ì„ íƒ</label>
                  </div>
                  <button id="deleteSelected" class="text-red-600 hover:text-red-700 text-sm font-medium transition-colors">
                    ì„ íƒ ì‚­ì œ
                  </button>
                </div>
              </div>

              <!-- ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ -->
              <div class="cart-items space-y-4 max-h-96 overflow-y-auto" id="cartItems">
                <!-- ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œë“¤ì´ JavaScriptë¡œ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
              </div>

              <!-- ë¹ˆ ì¥ë°”êµ¬ë‹ˆ ìƒíƒœ -->
              <div id="emptyCart" class="empty-cart rounded-lg p-12 text-center hidden">
                <div class="text-6xl mb-4">ğŸ›’</div>
                <h3 class="text-xl font-medium text-gray-600 mb-2">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤</h3>
                <p class="text-gray-500 mb-6">ë§ˆìŒì— ë“œëŠ” ì†ŸëŒ€ë¥¼ ì„ íƒí•´ë³´ì„¸ìš”</p>
                <button onclick="window.location.href='./sotdae-workshop.html'" class="px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors">
                  ì‡¼í•‘í•˜ëŸ¬ ê°€ê¸°
                </button>
              </div>
            </div>

            <!-- ì£¼ë¬¸ ìš”ì•½ -->
            <div class="lg:col-span-1">
              <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200 sticky top-24">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">ì£¼ë¬¸ ìš”ì•½</h3>
                
                <div class="space-y-3 mb-6">
                  <div class="flex justify-between text-sm">
                    <span class="text-gray-600">ìƒí’ˆ ê¸ˆì•¡</span>
                    <span class="text-gray-800" id="subtotal">0ì›</span>
                  </div>
                  <div class="flex justify-between text-sm">
                    <span class="text-gray-600">ë°°ì†¡ë¹„</span>
                    <span class="text-gray-800" id="shipping">3,000ì›</span>
                  </div>
                  <div class="border-t border-gray-200 pt-3">
                    <div class="flex justify-between text-lg font-semibold">
                      <span class="text-gray-800">ì´ ê²°ì œê¸ˆì•¡</span>
                      <span class="text-gray-800" id="total">3,000ì›</span>
                    </div>
                  </div>
                </div>

                <div class="space-y-3">
                  <button class="purchase-btn w-full py-4 text-white font-medium rounded-lg">
                    ì„ íƒí•œ ìƒí’ˆ ì£¼ë¬¸í•˜ê¸°
                  </button>
                  <button class="w-full py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                    ìœ„ì‹œë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
                  </button>
                </div>

                <!-- ë°°ì†¡ ì •ë³´ -->
                <div class="mt-6 pt-6 border-t border-gray-200">
                  <h4 class="text-sm font-medium text-gray-800 mb-3">ë°°ì†¡ ì •ë³´</h4>
                  <div class="text-xs text-gray-600 space-y-1">
                    <p>â€¢ ë¬´ë£Œë°°ì†¡: 50,000ì› ì´ìƒ êµ¬ë§¤ì‹œ</p>
                    <p>â€¢ ì¼ë°˜ë°°ì†¡: 3,000ì› (1-2ì¼ ì†Œìš”)</p>
                    <p>â€¢ ì œì‘ê¸°ê°„: 3-5ì¼ (ë§ì¶¤ ì œì‘)</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- í‘¸í„° -->
    <footer class="bg-white border-t border-gray-200 py-12">
      <div class="max-w-6xl mx-auto px-6">
        <div class="grid md:grid-cols-4 gap-8">
          <div class="space-y-4">
            <h3 class="text-lg font-semibold text-gray-800">ì†ŸëŒ€ê³µì‘ì†Œ</h3>
            <p class="text-gray-600 text-sm">ë‚˜ë§Œì˜ íŠ¹ë³„í•œ ì†ŸëŒ€ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”</p>
          </div>
          <div class="space-y-4">
            <h3 class="text-lg font-semibold text-gray-800">ê³ ê°ì§€ì›</h3>
            <div class="space-y-2">
              <a href="#" class="block text-gray-600 hover:text-gray-800 transition text-sm">ë¬¸ì˜í•˜ê¸°</a>
              <a href="#" class="block text-gray-600 hover:text-gray-800 transition text-sm">ë°°ì†¡ì•ˆë‚´</a>
              <a href="#" class="block text-gray-600 hover:text-gray-800 transition text-sm">êµí™˜/ë°˜í’ˆ</a>
            </div>
          </div>
          <div class="space-y-4">
            <h3 class="text-lg font-semibold text-gray-800">ì£¼ë¬¸ê´€ë¦¬</h3>
            <div class="space-y-2">
              <a href="#" class="block text-gray-600 hover:text-gray-800 transition text-sm">ì£¼ë¬¸ì¡°íšŒ</a>
              <a href="#" class="block text-gray-600 hover:text-gray-800 transition text-sm">ë°°ì†¡ì¡°íšŒ</a>
              <a href="#" class="block text-gray-600 hover:text-gray-800 transition text-sm">ì·¨ì†Œ/ë°˜í’ˆ</a>
            </div>
          </div>
          <div class="space-y-4">
            <h3 class="text-lg font-semibold text-gray-800">ì—°ë½ì²˜</h3>
            <div class="space-y-2">
              <p class="text-gray-600 text-sm">sotdae@example.com</p>
              <p class="text-gray-600 text-sm">02-1234-5678</p>
            </div>
          </div>
        </div>
        <div class="mt-12 pt-8 border-t border-gray-200 text-center">
          <p class="text-gray-500 text-sm">Â© 2024 ì†ŸëŒ€ê³µì‘ì†Œ. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      // ì˜¤ë²„ë ˆì´ ë©”ë‰´ ê¸°ëŠ¥ (sotdae-workshop.htmlê³¼ ë™ì¼)
      function toggleMenu() {
        const overlay = document.getElementById('overlay-menu');
        if (overlay) {
          overlay.classList.toggle('hidden');
          overlay.classList.toggle('show');
        }
      }

      function closeMenu() {
        const overlay = document.getElementById('overlay-menu');
        if (overlay) {
          overlay.classList.add('hidden');
          overlay.classList.remove('show');
        }
      }

      // ë©”ë‰´ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
      document.addEventListener('click', function(e) {
        const overlay = document.getElementById('overlay-menu');
        if (overlay && overlay.classList.contains('show')) {
          if (!e.target.closest('.menu-container') && !e.target.closest('#overlay-menu')) {
            closeMenu();
          }
        }
      });

      // ESC í‚¤ë¡œ ë©”ë‰´ ë‹«ê¸°
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeMenu();
        }
      });

      // ì¥ë°”êµ¬ë‹ˆ ë°ì´í„°ë¥¼ localStorageì—ì„œ ê°€ì ¸ì˜¤ê¸°
      function getCartItems() {
        const saved = localStorage.getItem('sotdaeCart');
        return saved ? JSON.parse(saved) : [];
      }

      // ì¥ë°”êµ¬ë‹ˆ ë°ì´í„°ë¥¼ localStorageì— ì €ì¥
      function saveCartItems(cartItems) {
        localStorage.setItem('sotdaeCart', JSON.stringify(cartItems));
      }

      // ìƒ‰ìƒ ë§¤í•‘ (ì»¤ìŠ¤í„°ë§ˆì´ì§• í˜ì´ì§€ì™€ ë™ì¼)
      const colorMap = {
        'black': { hue: 0, saturate: 0, brightness: 0.2 },
        'natural': { hue: 30, saturate: 0.3, brightness: 0.9 },
        'red': { hue: 0, saturate: 1, brightness: 0.8 },
        'orange': { hue: 30, saturate: 1, brightness: 0.8 },
        'yellow': { hue: 60, saturate: 1, brightness: 0.9 },
        'green': { hue: 120, saturate: 1, brightness: 0.7 },
        'blue': { hue: 240, saturate: 1, brightness: 0.8 },
        'navy': { hue: 240, saturate: 1, brightness: 0.4 },
        'brown': { hue: 30, saturate: 0.8, brightness: 0.4 },
        'white': { hue: 0, saturate: 0, brightness: 1 },
        'gray': { hue: 0, saturate: 0, brightness: 0.5 }
      };

      // ìƒ‰ìƒ í•„í„° ì ìš© í•¨ìˆ˜
      function getColorFilter(color) {
        const colorData = colorMap[color];
        if (colorData) {
          return `hue-rotate(${colorData.hue}deg) saturate(${colorData.saturate}) brightness(${colorData.brightness})`;
        }
        return '';
      }

      // ì¥ë°”êµ¬ë‹ˆ ë°ì´í„°
      let cartData = getCartItems();

      // ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œ ìƒì„± í•¨ìˆ˜
      function createCartItem(item) {
        // ì»¤ìŠ¤í„°ë§ˆì´ì§• ì •ë³´ í‘œì‹œ
        let customizationInfo = '';
        if (item.customization) {
          const custom = item.customization;
          customizationInfo = `
            <div class="text-xs text-gray-500 mt-1">
              ${custom.color ? `ìƒ‰ìƒ: ${custom.color} | ` : ''}
              ${custom.initial ? `ì´ë‹ˆì…œ: ${custom.initial} | ` : ''}
              ${custom.size ? `í¬ê¸°: ${custom.size}px | ` : ''}
              ${custom.font ? `í°íŠ¸: ${custom.font} | ` : ''}
              ${custom.position ? `ìœ„ì¹˜: ${custom.position}` : ''}
            </div>
          `;
        }
        
        // ìƒ‰ìƒ í•„í„° ì ìš©
        const colorFilter = item.customization && item.customization.color ? getColorFilter(item.customization.color) : '';
        
        return `
          <div class="cart-item bg-white rounded-lg p-4 fade-in" data-id="${item.id}">
            <div class="flex items-center gap-4">
              <!-- ì²´í¬ë°•ìŠ¤ -->
              <input type="checkbox" class="custom-checkbox item-checkbox" ${item.selected ? 'checked' : ''} data-id="${item.id}">
              
              <!-- ìƒí’ˆ ì´ë¯¸ì§€ -->
              <div class="w-20 h-20 rounded-lg flex-shrink-0 bg-gray-100 overflow-hidden">
                <img src="${item.image || './sotdae.png'}" alt="${item.name}" class="w-full h-full object-cover" style="filter: ${colorFilter}">
              </div>
              
              <!-- ìƒí’ˆ ì •ë³´ -->
              <div class="flex-1 min-w-0">
                <h3 class="font-medium text-gray-800 text-lg mb-1">${item.name}</h3>
                <p class="text-gray-600 text-sm">${item.category ? `ì¹´í…Œê³ ë¦¬: ${getCategoryName(item.category)}` : 'ì»¤ìŠ¤í„°ë§ˆì´ì§• ì œí’ˆ'}</p>
                ${customizationInfo}
                <p class="text-gray-800 font-semibold text-lg">${item.price.toLocaleString()}ì›</p>
              </div>
              
              <!-- ìˆ˜ëŸ‰ ì¡°ì ˆ -->
              <div class="flex items-center gap-2">
                <button class="quantity-btn w-8 h-8 rounded-md flex items-center justify-center text-gray-600 hover:text-gray-800" onclick="updateQuantity('${item.id}', -1)">
                  âˆ’
                </button>
                <span class="w-12 text-center font-medium text-gray-800">${item.quantity}</span>
                <button class="quantity-btn w-8 h-8 rounded-md flex items-center justify-center text-gray-600 hover:text-gray-800" onclick="updateQuantity('${item.id}', 1)">
                  +
                </button>
              </div>
              
              <!-- ì‚­ì œ ë²„íŠ¼ -->
              <button class="text-red-600 hover:text-red-700 p-2" onclick="removeItem('${item.id}')">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                </svg>
              </button>
            </div>
          </div>
        `;
      }

      // ì¹´í…Œê³ ë¦¬ ì´ë¦„ ë³€í™˜
      function getCategoryName(category) {
        const categoryNames = {
          'hope': 'í¬ë§ & ê¸°ì¨',
          'comfort': 'ìŠ¬í”” & ìœ„ë¡œ',
          'freedom': 'ììœ  & ê°ì•ˆ'
        };
        return categoryNames[category] || category;
      }

      // ì¥ë°”êµ¬ë‹ˆ ë Œë”ë§
      function renderCart() {
        cartData = getCartItems();
        const cartItems = document.getElementById('cartItems');
        const emptyCart = document.getElementById('emptyCart');
        
        if (cartData.length === 0) {
          cartItems.innerHTML = '';
          emptyCart.classList.remove('hidden');
        } else {
          emptyCart.classList.add('hidden');
          cartItems.innerHTML = cartData.map(item => createCartItem(item)).join('');
          
          // ì• ë‹ˆë©”ì´ì…˜ ì ìš©
          setTimeout(() => {
            const items = document.querySelectorAll('.fade-in');
            items.forEach((item, index) => {
              setTimeout(() => {
                item.classList.add('visible');
              }, index * 100);
            });
          }, 100);
        }
        
        updateOrderSummary();
      }

      // ìˆ˜ëŸ‰ ì—…ë°ì´íŠ¸
      function updateQuantity(itemId, change) {
        cartData = getCartItems();
        const item = cartData.find(item => item.id == itemId);
        if (item) {
          item.quantity = Math.max(1, item.quantity + change);
          saveCartItems(cartData);
          renderCart();
        }
      }

      // ì•„ì´í…œ ì‚­ì œ
      function removeItem(itemId) {
        cartData = getCartItems();
        cartData = cartData.filter(item => item.id != itemId);
        saveCartItems(cartData);
        renderCart();
      }

      // ì„ íƒ ìƒíƒœ í† ê¸€
      function toggleItemSelection(itemId) {
        cartData = getCartItems();
        const item = cartData.find(item => item.id == itemId);
        if (item) {
          item.selected = !item.selected;
          saveCartItems(cartData);
          updateOrderSummary();
        }
      }

      // ì „ì²´ ì„ íƒ/í•´ì œ
      function toggleSelectAll() {
        cartData = getCartItems();
        const selectAllCheckbox = document.getElementById('selectAll');
        const allSelected = selectAllCheckbox.checked;
        
        cartData.forEach(item => {
          item.selected = allSelected;
        });
        
        saveCartItems(cartData);
        renderCart();
      }

      // ì„ íƒëœ ì•„ì´í…œ ì‚­ì œ
      function deleteSelected() {
        cartData = getCartItems();
        cartData = cartData.filter(item => !item.selected);
        saveCartItems(cartData);
        renderCart();
      }

      // ì£¼ë¬¸ ìš”ì•½ ì—…ë°ì´íŠ¸
      function updateOrderSummary() {
        cartData = getCartItems();
        const selectedItems = cartData.filter(item => item.selected);
        const subtotal = selectedItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        const shipping = subtotal >= 50000 ? 0 : 3000;
        const total = subtotal + shipping;
        
        document.getElementById('subtotal').textContent = subtotal.toLocaleString() + 'ì›';
        document.getElementById('shipping').textContent = shipping === 0 ? 'ë¬´ë£Œ' : shipping.toLocaleString() + 'ì›';
        document.getElementById('total').textContent = total.toLocaleString() + 'ì›';
      }

      // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì´ˆê¸°í™”
      function initEventListeners() {
        // ì „ì²´ ì„ íƒ ì²´í¬ë°•ìŠ¤
        document.getElementById('selectAll').addEventListener('change', toggleSelectAll);
        
        // ì„ íƒ ì‚­ì œ ë²„íŠ¼
        document.getElementById('deleteSelected').addEventListener('click', deleteSelected);
        
        // ê°œë³„ ì•„ì´í…œ ì²´í¬ë°•ìŠ¤
        document.addEventListener('change', (e) => {
          if (e.target.classList.contains('item-checkbox')) {
            const itemId = parseInt(e.target.dataset.id);
            toggleItemSelection(itemId);
          }
        });
      }

      // localStorage ì´ˆê¸°í™” (í…ŒìŠ¤íŠ¸ìš©)
      function clearCart() {
        localStorage.removeItem('sotdaeCart');
        cartData = [];
        renderCart();
      }

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
      document.addEventListener('DOMContentLoaded', () => {
        // í…ŒìŠ¤íŠ¸ìš©: localStorage ì´ˆê¸°í™” (ì‹¤ì œ ìš´ì˜ì‹œì—ëŠ” ì œê±°)
        // clearCart();
        
        renderCart();
        initEventListeners();
      });
    </script>
  </body>
</html>
